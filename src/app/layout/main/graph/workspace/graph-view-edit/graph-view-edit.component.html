<ngx-graph class="chart-container"
  [update$]="update$"
  [center$]="center$"
  [zoomToFit$]="zoomToFit$"
  [view]="[900, 500]"
  [nodes]="nodes"
  [links]="edges"
  (select)="onNodeSelect($event)">

  <ng-template #nodeTemplate let-node>
    <svg xmlns="http://www.w3.org/2000/svg">
      <g *ngIf="node.type=='task'">
        <!-- tasks -> red -->
        <rect x="0" y="10" width="100" height="50" rx="10" fill="#a22"></rect>
        <rect x="0" y="0" width="100" height="30" rx="10" fill="#811"></rect>
      </g>
      <g *ngIf="node.type=='cond'">
        <!-- conditions -> blue -->
        <rect x="0" y="10" width="100" height="50" rx="10" fill="#22a"></rect>
        <rect x="0" y="0" width="100" height="30" rx="10" fill="#118"></rect>
      </g>
      <text x="45" y="20" font-size="15" fill="#fff">{{node.id}}</text>
      <text x="10" y="50" font-size="15" fill="#fff">{{node.label}}</text>
    </svg>
  </ng-template>
</ngx-graph>
